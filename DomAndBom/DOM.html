<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DOM In JavaScript</title>
  </head>
  <body>
    <h1 id="top">DOM Navigation</h1>
    <p>Hello world!</p>
    <p>Hello India!</p>
    <ul class="list">
      <li>One</li>
      <li>Two</li>
      <li>Three</li>
    </ul>

    <div id="card" class="card">
      <div class="card">
        <button class="btn">Click Me</button>
      </div>
    </div>

    <img id="myImg">

    <script>
      /*
             Types of Node in JS
        -----------------------------------------------------------------------

        Element Node - An all the HTML tags
        Text Node - In the DOM tree, Text Content, New Line, Spaces ,New Tabs
        Attribute Node - An attribute of An element
        Comment Node - html comments
        proccesing instruction Node - like <? xml-stylesheets... ?>
        Document Node - A document Node
        Document Type Node - like <! DOCTYPE html>

        <html> is the root node
        <html> has no parents
        <html> is the parent of <head> and <body>
        <head> is the first child of <html>
        <body> is the last child of <html>

        <head> has one child: <title>
        <title> has one child (a text node): "DOM Tutorial"
        <body> has two children: <h1> and <p>
        <h1> has one child: "DOM Lesson one"
        <p> has one child: "Hello world!"
        <h1> and <p> are siblings

        */

      // METHODS
      //  HTML DOM methods are ACTIONS you can perform on HTML elements.

      // parentNode / parentElement
      // childNodes / children
      // firstChild / firstElementChild
      // lastChild / lastElementChild
      // nextsibling / nextelementsibling
      // previoussibling / previouselement
      // forEach (Array.from)
      // createElement (tagName)
      // appendChild (node)
      // removeChild (node)
      // addEventListener(event, function)
      // removeEventListener(event, function)
      // setAttribute(name, value)
      // getAttribute (name)
      // closest (selector)

      let parent = document;
      // console.log(parent);

      let bodyElement = document.body;
      // console.log(bodyElement);

      let headElement = document.head;
      // console.log(headElement);

      // DOM filtering knows

      let parentNode = bodyElement.parentNode;
      // console.log(parentNode);    //all html document

      let parentElement = bodyElement.parentElement;
      // console.log(parentElement);      //all html document

      let bodychildNodes = bodyElement.childNodes;
      // console.log(bodychildNodes);

      let bodychildren = bodyElement.children;
      // console.log(bodychildren);

      let firstChild = bodyElement.firstChild;
      // console.log(firstChild);    //text

      let firstElementChild = bodyElement.firstElementChild;
      // console.log(firstElementChild);     //first tag/element

      let lastChild = bodyElement.lastChild;
      // console.log(lastChild);

      let lastElementChild = bodyElement.lastElementChild;
      // console.log(lastElementChild);

      let nextSibling = firstElementChild.nextSibling;
      // console.log(nextSibling);

      let nextElementSibling = firstElementChild.nextElementSibling;
      // console.log(nextElementSibling);

      let previousSibling = nextElementSibling.previousSibling;
      // console.log(previousSibling);

      let previousElementSibling = nextElementSibling.previousElementSibling;
      // console.log(previousElementSibling);

      // forEach Array.from() - it used to iterable objects into a real array
      let iteams = document.querySelectorAll("li");
      // console.log(iteams);

      // Array.from(iteams).forEach( Elem => console.log(Elem.textContent));

      let createElement = document.createElement("h1");
      // console.log(createElement);
      // createElement.textContent = "hello, javaScript";
      // console.log(createElement);

      // let p = document.createElement("p");
      // p.textContent = "Hello JavaScript";
      // bodyElement.appendChild(p);
      // console.log(p);

      // let ullist = document.querySelector("ul");
      // let firstIteam = ullist.removeChild(ullist.firstElementChild);
      // ullist.removeChild(firstChild);

      // addEventListener(event, function)
      // addEventListener() is much more powerful and flexible
      // onclick overrides previous handlers but addEventListener() allows multiple handlers

      // syntax - element.addEventListener(eventType, callbackFunction);

      // let btn = document.querySelector(".btn");

      // btn.onclick = () => console.log("first");
      // btn.onclick = () => console.log("second");

      // // if we use only onclick event than show override event but use of eventlistener allows multiple event shown 
      
      // btn.addEventListener("click", () => {
      //   console.log("button clicked");
      // });
      // btn.addEventListener("click", () => {
      //   console.log("hacked");
      // });
      
      // removeEventListener(event, function)
      // it's an essential part of managing events in JavaScript to avoid memory leaks or stop unwanted behavior.

      // syntax - element.removeEventListener(eventType, handlerFunction);

      // Rules (Very Important)
      // You must use the same function reference (not an anonymous function).
      // removeEventListener() will not work if the handler was added with an anonymous function.

      // let btn = document.querySelector('.btn');

      // btn.addEventListener("click",function() {
      //   console.log("ClickOne");
      // });

      // btn.removeEventListener("click", function(){
      //   console.log("ClickOne");
      // });

      // This is not work bcos,the handler was added with an anonymous function.

      // btn.addEventListener("click",sayhi);

      // function sayhi() {
      //   alert('welcome, javascript');
      //   btn.removeEventListener("click",sayhi);
      // }
      // only one time run event

      // only one time run event shortcut
      // btn.addEventListener("click", () => {
      //   alert("Runs only once!");
      // }, { once: true });

      // setAttribute() method sets or adds an attribute to an element.
      let findImg = document.getElementById("myImg");
      findImg.setAttribute("src","myImg.jpg");
      findImg.setAttribute("alt","round-Img");
      findImg.setAttribute("height","200px");
      findImg.setAttribute("width","200px");

      console.log(findImg);

      // getAttribute() method gets the value of a specified attribute.

      let getSrc = findImg.getAttribute("src");
      console.log(getSrc);

      // .closest(selector) method searches up the DOM tree from the current element until it finds the first ancestor (including itself) that matches the selector.

      // ancestor means parent like Child → The element itself Parent → The element one level above Grandparent → Two levels above Great-grandparent, etc.

      let btn = document.querySelector('.btn');
      let card = btn.closest(".card");
      console.log(card);

      let card1 = btn.closest("body");
      console.log(card1);
      
    </script>
  </body>
</html>